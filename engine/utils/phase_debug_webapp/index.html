<script src="//unpkg.com/prismjs@1.29.0/components/prism-core.min.js"></script>
<script src="//unpkg.com/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
<link href="//unpkg.com/prismjs@1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300&display=swap" rel="stylesheet">
<script src="//unpkg.com/prismjs@1.29.0/components/prism-rust.min.js"></script>
<script src="//unpkg.com/prismjs@1.29.0/components/prism-json.min.js"></script>

<style>
  .header.inactive:hover { color: #444!important; }
  .header {
      white-space: nowrap!important;
  }
  header {
      padding-bottom: 10px;
  }
  code span.active { background-color: #FFFF00; }
  code span.in-range { background-color: #FFFFDD; }
  code {
      line-height: 1.2!important;
      font-size: 80%!important;
      white-space: pre-wrap!important;
  }
  dialog {
      z-index: 100;
  }
  .json-viewer div.v {
      padding-left: 10px;
  }
  .json-viewer .i {
      display: inline-block;
  }
  .json-viewer code {
      display: inline-block;
      font-size: 100%!important;
  }
  .json-viewer .constructor {
      color: blue;
      
  }
  .json-viewer .pathchunk {
      color: green;
  }
  .json-viewer .pathsep {
      color: green; opacity: 0.6;
      letter-spacing: -3px;
      position: relative;
      left: -1px;
  }
  .json-viewer ul {
      list-style-type: none;
      padding: 0px;
      padding-left: 8px;
      margin: 0;
  }
  body {
      font-family: 'Roboto', sans-serif;
  }
  #help {
      position: absolute;
      top: 0;
      left: 0;
      margin: 1em;
  }
  #help-contents {
      display: inline-block;
      opacity: 0.3;
      background: #16a085;
      color: white;
      width: 1.1em;
      height: 1.1em;
      padding: 0.2em;
      text-align: center;
      border-radius: 50%;
  }
  #help-contents:hover {
      opacity: 1;
  }
  #help dialog {
      max-width: 400px;
      text-align: justify;
  }
</style>
<body>
  <div id='help'>
    <div onclick='document.querySelector("#help > dialog").showModal()' id='help-contents'>?</div>
    <dialog>
      <h3>Help</h3>
      The screen divides in two:
      <ul>
        <li>on the upper part, there is the list of the different phases that were applied;</li>
        <li>on the lower part, the "rustish" code of the selected phase is displayed.</li>
      </ul>
      <p>
        You can click on a phase name in the upper part or press the <i>left</i> and <i>right</i> (or <i>p</i> and <i>n</i>) keys on your keyboard to display the rust code of another phase. Press <i>r</i> to refresh.
      </p>
      <p>
        On the lower part, you can click on any chunk of code to show a dialog displaying its AST representation. Then, you can browse the AST and open/collapse AST nodes by clicking on them.
      </p>

      
      <button onclick='document.querySelector("#help > dialog").close()'>Ok</button>
    </dialog>
  </div>
  <div id='app'>
  </div>
</body>
<script src="script.js"></script>
